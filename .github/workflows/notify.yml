name: å–æ°´æé†’

on:
  schedule:
    # å°åŒ—æ™‚é–“ (UTC+8) å°æ‡‰çš„ UTC æ™‚é–“
    - cron: '0 0 * * *'   # å°åŒ— 8:00
    - cron: '0 1 * * *'   # å°åŒ— 9:00
    - cron: '30 3 * * *'  # å°åŒ— 11:30
    - cron: '0 5 * * *'   # å°åŒ— 13:00
    - cron: '30 7 * * *'  # å°åŒ— 15:30
    - cron: '30 9 * * *'  # å°åŒ— 17:30
    - cron: '0 11 * * *'  # å°åŒ— 19:00
    - cron: '0 13 * * *'  # å°åŒ— 21:00

jobs:
  notify:
    runs-on: ubuntu-latest

    steps:
      # è¨­å®šæ™‚å€ç‚º UTCï¼Œé¿å…åå·®
      - name: è¨­å®šæ™‚å€ç‚º UTC
        run: sudo timedatectl set-timezone UTC

      # è¨˜éŒ„ç›®å‰åŸ·è¡Œçš„æ™‚é–“ï¼Œç”¨æ–¼æ—¥èªŒå’Œèª¿è©¦
      - name: è¨˜éŒ„åŸ·è¡Œæ™‚é–“
        run: echo "å·¥ä½œæµç¨‹è§¸ç™¼æ–¼ $(date -u)"

      # ç™¼é€ LINE æé†’è¨Šæ¯
      - name: ç™¼é€ LINE æé†’
        run: |
          echo "ç™¼é€æé†’ï¼šè©²è£œå……æ°´åˆ†äº†ï¼"
          curl -X POST https://notify-api.line.me/api/notify \
          -H "Authorization: Bearer ${{ secrets.LINE_NOTIFY_TOKEN }}" \
          -F "message=å–æ°´æé†’ï¼šè©²è£œå……æ°´åˆ†å•¦ï¼ğŸ’§"

      # ç¢ºä¿åŸ·è¡Œæµç¨‹çµæŸçš„æ—¥èªŒè¨˜éŒ„
      - name: è¨˜éŒ„åŸ·è¡ŒçµæŸ
        run: echo "å·¥ä½œæµç¨‹å·²å®Œæˆæ–¼ $(date -u)"
